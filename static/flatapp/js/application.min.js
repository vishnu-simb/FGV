function sidebarFluid(){if($("#left").hasClass("sidebar-fixed")){$("#left").removeClass("sidebar-fixed").css({height:"auto",top:"0",left:"auto"})}if($("#navigation").hasClass("navbar-fixed-top")){$("#left").css("top",40)}$("#left").getNiceScroll().resize().hide();$("#left").removeClass("hasScroll")}function sidebarFixed(){$("#left").addClass("sidebar-fixed");$("#left .ui-resizable-handle").css("top",0);if($(window).scrollTop()==0){$("#left").css("top",40)}if($("#content").hasClass("container")){$("#left").css("left",$("#content").offset().left)}$("#left").getNiceScroll().resize().show();initSidebarScroll()}function topbarFixed(){$("#content").addClass("nav-fixed");$("#navigation").addClass("navbar-fixed-top");if($("#left").css("top")=="0px"){$("#left").css("top",40)}}function topbarFluid(){$("#content").removeClass("nav-fixed");$("#navigation").removeClass("navbar-fixed-top");if($("#left").css("top")=="40px"&&!$("#left").hasClass("sidebar-fixed")){$("#left").css("top",0)}}function versionFixed(){if($(window).width()>=1200){$("#content").addClass("container").removeClass("container-fluid");$("#navigation .container-fluid").addClass("container").removeClass("container-fluid");if($("#left").hasClass("sidebar-fixed")){$("#left").css("left",$("#content").offset().left)}}}function versionFluid(){$("#content").addClass("container-fluid").removeClass("container");$("#navigation .container").addClass("container-fluid").removeClass("container");if($("body").hasClass("sidebar-right")){$("#left").css("right",0)}else{$("#left").css("left",0)}}function slimScrollUpdate(d,c){if(d.length>0){var a=parseInt(d.attr("data-height")),e=(d.attr("data-visible")=="true")?true:false,f=(d.attr("data-start")=="bottom")?"bottom":"top";var b={height:a,color:"#666",start:f};if(e){b.alwaysVisible=true;b.disabledFadeOut=true}if(c!==undefined){b.scrollTo=c+"px"}d.slimScroll(b)}}function destroySlimscroll(a){a.parent().replaceWith(a)}function initSidebarScroll(){getSidebarScrollHeight();if(!$("#left").hasClass("hasScroll")){$("#left").niceScroll({cursorborder:0,cursorcolor:"#999",railoffset:{top:0,left:-2},autohidemode:false,horizrailenabled:false});$("#left").addClass("hasScroll");$("#left").on("touchmove",function(a){a.preventDefault()})}else{$("#left").getNiceScroll().resize().show()}}function getSidebarScrollHeight(){var c=$("#left"),d=$(window),b=$("#navigation");var a=d.height();if((b.hasClass("navbar-fixed-top")&&d.scrollTop()==0)||d.scrollTop()==0){a-=40}if(c.hasClass("sidebar-fixed")||c.hasClass("mobile-show")){c.height(a)}}function checkLeftNav(){var c=$(window),a=$("#content"),b=$("#left");if(c.width()<=840){if(!b.hasClass("mobile-show")){b.hide();$("#main").css("margin-left",0)}if($(".toggle-mobile").length==0){$("#navigation .user").before('<a href="#" class="toggle-mobile"><i class="icon-reorder"></i></a>')}if($(".mobile-nav").length==0){createSubNav()}}else{if(!b.is(":visible")&&!b.hasClass("forced-hide")&&!$("#content").hasClass("nav-hidden")){b.show();$("#main").css("margin-left",b.width())}$(".toggle-mobile").remove();$(".mobile-nav").removeClass("open");if(a.hasClass("forced-fixed")){a.removeClass("nav-fixed");$("#navigation").removeClass("navbar-fixed-top")}if(c.width()<1200){if($("#navigation .container").length>0){versionFluid();$("body").addClass("forced-fluid")}}else{if($("body").hasClass("forced-fluid")){versionFixed()}}}}function resizeHandlerHeight(){var a=$(window).height(),b=($(window).scrollTop()==0)?40:0;$("#left .ui-resizable-handle").height(a-b)}function toggleMobileNav(){var a=$(".mobile-nav");a.toggleClass("open");a.find(".open").removeClass("open")}function getNavElement(c){var b=$.trim(c.find(">a").text()),a="";a+="<li><a href='"+c.find(">a").attr("href")+"'>"+b+"</a>";if(c.find(">.dropdown-menu").length>0){a+=getNav(c.find(">.dropdown-menu"))}a+="</li>";return a}var nav="";function getNav(b){var a="";a+="<ul>";b.find(">li").each(function(){a+=getNavElement($(this))});a+="</ul>";nav=a;return a}function createSubNav(){if($(".mobile-nav").length==0){var a=$("#navigation .main-nav");var b=a;getNav(b);$("#navigation").append(nav);console.log(nav);$("#navigation > ul").last().addClass("mobile-nav");$(".mobile-nav > li > a").each(function(){var c=$(this);if(c.next().length!==0){c.append('<span style="margin: 10px 5px;border-top: 4px solid #fff;" class="caret"></span>')}});$(".mobile-nav > li > a").click(function(f){var d=$(this);$("#navigation").getNiceScroll().resize().show();if(d.next().length!==0){f.preventDefault();var c=d.next();console.log(c);d.parents(".mobile-nav").find(".open").not(c).each(function(){var e=$(this);e.removeClass("open");e.prev().find("i").removeClass("icon-angle-down").addClass("icon-angle-left")});c.toggleClass("open");d.find("i").toggleClass("icon-angle-left").toggleClass("icon-angle-down")}})}}function hideNav(){$("#left").toggle().toggleClass("forced-hide");if($("#left").is(":visible")){$("#main").css("margin-left",$("#left").width())}else{$("#main").css("margin-left",0)}if($(".dataTable").length>0){var a=$.fn.dataTable.fnTables(true);if(a.length>0){$(a).each(function(){if($(this).hasClass("dataTable-scroller")){$(this).dataTable().fnDraw()}});$(a).dataTable().fnAdjustColumnSizing()}}if($(".calendar").length>0){$(".calendar").fullCalendar("render")}}function scrolledClone(b,a){a.remove();b.parent().removeClass("open")}function resizeContent(){if($("#main").height()<$(window).height()){var a=40;if($("#footer").length>0){a+=$("#footer").outerHeight()}$("#content").css({"min-height":"auto",height:$(window).height()-a})}if(($("#left").height()>$("#main").height())&&($("#main").height()<$(window).height())){$("#left").addClass("full");$("#footer").css({position:"fixed",bottom:0,top:"auto"})}if($("#left").height()<$(window).height()&&!$("#left").hasClass("force-full")){$("#left").removeClass("full");$("#footer").attr("style","")}}$(document).ready(function(){resizeContent();if($(".username-check").length>0){var a;$(".username-check").change(function(d){var c=$(this);c.parent().next().html("<i class='icon-spinner icon-spin'></i> Checking availability...");$.post("/check",{username:c.val()},function(f){if(f.available=="true"){c.parent().next().html("<i class='icon-ok'></i> Username is available!");c.parents(".control-group").removeClass("error").addClass("success")}else{c.parent().next().html("<i class='icon-remove'></i> Username not available!");c.parents(".control-group").removeClass("success").addClass("error")}},"json")});$(".username-check-force").click(function(c){c.preventDefault();$(".username-check").trigger("change")});$(".username-check").keyup(function(c){clearTimeout(a);a=setTimeout(function(){$(".username-check").trigger("change")},500)})}if($(".gallery-dynamic").length>0){$(".gallery-dynamic").imagesLoaded(function(){$(".gallery-dynamic").masonry({itemSelector:"li",columnWidth:201,isAnimated:true})})}$(".gototop").click(function(c){c.preventDefault();$("html, body").animate({scrollTop:0},600)});if($("body").attr("data-mobile-sidebar")=="slide"){$("body").touchwipe({wipeRight:function(){$("#left").show().addClass("mobile-show");initSidebarScroll()},wipeLeft:function(){$("#left").hide().removeClass("mobile-show")},preventDefaultEvents:false})}if($("body").attr("data-mobile-sidebar")=="button"){$(".mobile-sidebar-toggle").click(function(c){c.preventDefault();$("#left").toggle().toggleClass("mobile-show");initSidebarScroll()})}$(".main-nav > li, .subnav-menu > li").hover(function(){if($(this).attr("data-trigger")=="hover"){if($(this).parents(".subnav-menu").length>0&&$("#left").hasClass("sidebar-fixed")){$(this).find(">a").trigger("click")}else{$(this).closest(".dropdown-menu").stop(true,true).show();$(this).addClass("open")}}},function(){if($(this).attr("data-trigger")=="hover"){$(this).closest(".dropdown-menu").stop(true,true).hide();$(this).removeClass("open")}});$(".subnav-menu > li > a[data-toggle=dropdown]").click(function(){var d=$(this);if($("#left").hasClass("sidebar-fixed")||$("#left").hasClass("mobile-show")){$(".cloned").remove();var f=d.next();var e=d.offset();var c=f.clone().css({top:e.top,left:e.left+$("#left").width()}).show().addClass("cloned");$("body").append(c);f.hide();$("#left").scroll(function(){scrolledClone(d,c)});$(window).scroll(function(){scrolledClone(d,c)});$("body").click(function(h){var g=$(h.target);if(g.parents(".cloned").length==0&&g.attr("data-toggle")!="dropdown"){d.parent().removeClass("open");c.remove()}})}});$("body").on("click",".change-input",function(g){g.preventDefault();var d=$(this);var f=d.parent().prev(),c=d.parent().clone();c.html(f.clone().val(""));f.after(c);d.addClass("btn-satgreen update-input").removeClass("btn-grey-4 change-input").text("Update")});$("body").on("click",".update-input",function(f){f.preventDefault();var c=$(this);var d=c.parent();c.after('<span><i class="icon-spinner icon-spin"></i>Updating...</span>');setTimeout(function(){d.find("span").remove();d.prev().slideUp(200,function(){d.prev().remove();c.removeClass("update-input btn-satgreen").addClass("btn-grey-4 change-input").text("Change")})},1000)});$(".subnav-hidden").each(function(){if($(this).find(".subnav-menu").is(":visible")){$(this).find(".subnav-menu").hide()}});setTimeout(function(){slimScrollUpdate($(".messages").parent(),9999)},1000);createSubNav();$(".breadcrumbs .close-bread > a").click(function(c){c.preventDefault();$(".breadcrumbs").fadeOut()});$("#navigation").on("click",".toggle-mobile",function(c){c.preventDefault();toggleMobileNav()});$(".content-slideUp").click(function(f){f.preventDefault();var c=$(this),d=c.parents(".box").find(".box-content");d.slideToggle("fast",function(){c.find("i").toggleClass("icon-angle-up").toggleClass("icon-angle-down");if(!c.find("i").hasClass("icon-angle-up")){if(d.hasClass("scrollable")){slimScrollUpdate(d)}}else{if(d.hasClass("scrollable")){destroySlimscroll(d)}}})});$(".content-remove").click(function(i){i.preventDefault();var f=$(this);var g=f.parents("[class*=span]");var c=parseInt(g.attr("class").replace("span","")),d=(g.prev().length>0)?g.prev():g.next();if(d.length>0){var h=parseInt(d.attr("class").replace("span",""))}bootbox.animate(false);bootbox.confirm("Do you really want to remove the widget <strong>"+f.parents(".box-title").find("h3").text()+"</strong>?","Cancel","Yes, remove",function(e){if(e){f.parents("[class*=span]").remove();if(d.length>0){d.removeClass("span"+h).addClass("span"+(h+c))}}})});$(".content-refresh").click(function(d){d.preventDefault();var c=$(this);c.find("i").addClass("icon-spin");setTimeout(function(){c.find("i").removeClass("icon-spin")},2000)});if($("#vmap").length>0){$("#vmap").vectorMap({map:"world_en",backgroundColor:null,color:"#ffffff",hoverOpacity:0.7,selectedColor:"#2d91ef",enableZoom:true,showTooltip:false,values:sample_data,scaleColors:["#8cc3f6","#5c86ac"],normalizeFunction:"polynomial",onRegionClick:function(){alert("This Region has "+(Math.floor(Math.random()*10)+1)+" users!")}})}$(".custom-checkbox").each(function(){var c=$(this);if(c.hasClass("checkbox-active")){c.find("i").toggleClass("icon-check-empty").toggleClass("icon-check")}c.bind("click",function(d){d.preventDefault();c.find("i").toggleClass("icon-check-empty").toggleClass("icon-check");c.toggleClass("checkbox-active")})});$(".tasklist").on("click","li",function(f){var c=$(this),d=$(this).find("input[type=checkbox]").first();c.toggleClass("done");if(f.target.nodeName=="LABEL"){f.preventDefault()}if(f.target.nodeName!="INS"&&f.target.nodeName!="INPUT"){d.prop("checked",!(d.prop("checked")));$(".tasklist input").iCheck("update")}});$(".tasklist").on("is.Changed","input[type=checkbox]",function(){$(this).parents("li").toggleClass("done")});if($("#new-task .select2-me").length>0){function b(c){if(!c.id){return c.text}return"<i class='"+c.text+"'></i> ."+c.text}$("#new-task .select2-me").select2({formatResult:b,formatSelection:b,escapeMarkup:function(c){return c}})}$(".tasklist").on("click",".task-bookmark",function(g){var d=$(this),f=$(this).parents("li"),c=$(this).parents("ul");g.preventDefault();g.stopPropagation();f.toggleClass("bookmarked");if(f.hasClass("bookmarked")){f.fadeOut(200,function(){f.prependTo(c).fadeIn()})}else{if(c.find(".bookmarked").length>0){f.fadeOut(200,function(){f.insertAfter(c.find(".bookmarked").last()).fadeIn()})}else{f.fadeOut(200,function(){f.prependTo(c).fadeIn()})}}});$(".tasklist").on("click",".task-delete",function(d){d.preventDefault();d.stopPropagation();var c=$(this);c.parents("li").fadeOut()});$(".tasklist").sortable({items:"li",opacity:0.7,placeholder:"widget-placeholder-2",forcePlaceholderSize:true,tolerance:"pointer"});$(".sortable-box").sortable({connectWith:".box",items:".box",opacity:0.7,placeholder:"widget-placeholder",forcePlaceholderSize:true,tolerance:"pointer",dropOnEmpty:true});$(".toggle-subnav").click(function(d){d.preventDefault();var c=$(this);c.parents(".subnav").toggleClass("subnav-hidden").find(".subnav-menu,.subnav-content").slideToggle("fast");c.find("i").toggleClass("icon-angle-down").toggleClass("icon-angle-right");if($("#left").hasClass("mobile-show")||$("#left").hasClass("sidebar-fixed")){getSidebarScrollHeight();$("#left").getNiceScroll().resize().show()}});$("#left").sortable({items:".subnav",placeholder:"widget-placeholder",forcePlaceholderSize:true,axis:"y",handle:".subnav-title",tolerance:"pointer"});if($(".scrollable").length>0){$(".scrollable").each(function(){var e=$(this);var c=parseInt(e.attr("data-height")),f=(e.attr("data-visible")=="true")?true:false,g=(e.attr("data-start")=="bottom")?"bottom":"top";var d={height:c,color:"#666",start:g,allowPageScroll:true};if(f){d.alwaysVisible=true;d.disabledFadeOut=true}e.slimScroll(d)})}$(".new-task-form").submit(function(i){i.preventDefault();$("#new-task").modal("hide");var d=$(this),g=$(".tasklist");var c=d.find("select[name=icons]"),j=d.find("input[name=task-name]"),f=d.find("input[name=task-bookmarked]");if(j.val()!=""){var h="";(f.is(":checked"))?h+="<li class='bookmarked'>":h+="<li>";h+='<div class="check"><input type="checkbox" class="icheck-me" data-skin="square" data-color="blue"></div><span class="task"><i class="'+c.select2("val")+'"></i><span>'+j.val()+'</span></span><span class="task-actions"><a href="#" class="task-delete" rel="tooltip" title="Delete that task"><i class="icon-remove"></i></a><a href="#" class="task-bookmark" rel="tooltip" title="Mark as important"><i class="icon-bookmark-empty"></i></a></span></li>';if(g.find(".bookmarked").length>0){if(f.is(":checked")){g.find(".bookmarked").first().before(h)}else{g.find(".bookmarked").last().after(h)}}else{g.prepend(h)}icheck();g.find("[rel=tooltip]").tooltip();c.select2("val","icon-adjust");j.val("");f.prop("checked",false)}});$("#message-form .text input").on("focus",function(d){var c=$(this);c.parents(".messages").find(".typing").addClass("active").find(".name").html("John Doe");slimScrollUpdate(c.parents(".scrollable"),100000)});$("#message-form .text input").on("blur",function(d){var c=$(this);c.parents(".messages").find(".typing").removeClass("active");slimScrollUpdate(c.parents(".scrollable"),100000)});if($(".jq-datepicker").length>0){$(".jq-datepicker").datepicker({showOtherMonths:true,selectOtherMonths:true,prevText:"",nextText:""})}if($(".spark-me").length>0){$(".spark-me").sparkline("html",{height:"25px",enableTagOptions:true})}if(!$("#left").hasClass("no-resize")){$("#left").resizable({minWidth:60,handles:"e",resize:function(e,f){var c=$(".search-form .search-pane input[type=text]"),d=$("#main");c.css({width:f.size.width-55});if(Math.abs(200-f.size.width)<=20){$("#left").css("width",200);c.css("width",145);d.css("margin-left",200)}else{d.css("margin-left",$("#left").width())}},stop:function(){$("#left .ui-resizable-handle").css("background","none")},start:function(){$("#left .ui-resizable-handle").css("background","#aaa")}})}$("[rel=popover]").popover();$(".toggle-nav").click(function(c){c.preventDefault();hideNav()});if($("#content").hasClass("nav-hidden")){hideNav()}$(".table-mail .sel-star").click(function(d){d.preventDefault();d.stopPropagation();var c=$(this);c.toggleClass("active")});$(".table .sel-all").change(function(d){d.preventDefault();d.stopPropagation();var c=$(this);c.parents(".table").find("tbody .selectable").prop("checked",(el.prop("checked")))});$(".table-mail > tbody > tr").click(function(f){var c=$(this);var d=c.find(".table-checkbox > input");c.toggleClass("warning");if(f.target.nodeName!="INPUT"){d.prop("checked",!(d.prop("checked")))}});resizeHandlerHeight();$(".table .alpha").click(function(j){j.preventDefault();var d=$(this),k="ABCDEFGHIJKLMNOPQRSTUVWXYZ",g="",f=[];d.parents().find(".alpha .alpha-val span").each(function(){f.push($(this).text())});g+="<li class='active'><span>All</span></li>";for(var c=0;c<k.length;c++){var h=($.inArray(k.charAt(c),f)!=-1)?" class='active'":"";g+="<li"+h+"><span>"+k.charAt(c)+"</span></li>"}d.parents(".table").before("<div class='letterbox'><ul class='letter'>"+g+"</ul></div>");$(".letterbox .letter > .active").click(function(){var i=$(this);if(i.text()!="All"){slimScrollUpdate(i.parents(".scrollable"),0);var e=i.parents(".box-content").find(".table .alpha:contains('"+i.text()+"')");slimScrollUpdate(i.parents(".scrollable"),e.position().top)}i.parents(".letterbox").remove()})});$(".theme-colors > li > span").hover(function(f){var d=$(this),c=$("body");c.attr("class","").addClass("theme-"+d.attr("class"))},function(){var d=$(this),c=$("body");if(c.attr("data-theme")!==undefined){c.attr("class","").addClass(c.attr("data-theme"))}else{c.attr("class","")}}).click(function(){var c=$(this);$("body").addClass("theme-"+c.attr("class")).attr("data-theme","theme-"+c.attr("class"))});$(".version-toggle > a").click(function(f){f.preventDefault();f.stopPropagation();var c=$(this);var d=c.parent();if(!c.hasClass("active")){d.find(".active").removeClass("active");c.addClass("active")}if(c.hasClass("set-fixed")){versionFixed()}else{versionFluid()}});$(".topbar-toggle > a").click(function(f){f.preventDefault();f.stopPropagation();var c=$(this);var d=c.parent();if(!c.hasClass("active")){d.find(".active").removeClass("active");c.addClass("active")}if(c.hasClass("set-topbar-fixed")){topbarFixed()}else{topbarFluid()}});$(".sidebar-toggle > a").click(function(f){f.preventDefault();f.stopPropagation();var c=$(this);var d=c.parent();if(!c.hasClass("active")){d.find(".active").removeClass("active");c.addClass("active")}$(".search-form .search-pane input").attr("style","");$("#main").attr("style","");if(c.hasClass("set-sidebar-fixed")){sidebarFixed()}else{sidebarFluid()}});$(".del-gallery-pic").click(function(f){f.preventDefault();var c=$(this);var d=c.parents("li");d.fadeOut(400,function(){d.remove()})});checkLeftNav();if($("body").attr("data-layout")=="fixed"){versionFixed()}if($("body").attr("data-layout-topbar")=="fixed"){topbarFixed()}if($("body").attr("data-layout-sidebar")=="fixed"){sidebarFixed()}});$.fn.scrollBottom=function(){return $(document).height()-this.scrollTop()-this.height()};$(window).scroll(function(d){var a=0,c=$(window),b=$(document);if(c.scrollTop()==0||$("#left").hasClass("sidebar-fixed")){$("#left .ui-resizable-handle").css("top",a)}else{if(c.scrollTop()+$("#left .ui-resizable-handle").height()<=b.height()){a=c.scrollTop()-40}else{a=b.height()-$("#left .ui-resizable-handle").height()-40}$("#left .ui-resizable-handle").css("top",a)}if(!$("#content").hasClass("nav-fixed")&&$("#left").hasClass("sidebar-fixed")){if(c.scrollTop()<40){$("#left").css("top",40-c.scrollTop())}else{$("#left").css("top",0)}}getSidebarScrollHeight();resizeHandlerHeight()});$(window).resize(function(a){checkLeftNav();getSidebarScrollHeight();resizeContent();resizeHandlerHeight()});